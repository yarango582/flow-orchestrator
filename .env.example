# ============================================================================
# Orchestrator Service Configuration - Example
# Copy this file to .env and adjust values as needed
# ============================================================================

# Server Configuration
PORT=3003
NODE_ENV=development

# RabbitMQ Configuration
RABBITMQ_URL=amqp://flow_user:flow_password@localhost:5672/flow_platform
RABBITMQ_EXCHANGE=flow_orchestration
RABBITMQ_PREFETCH=50

# Worker Management Configuration
WORKER_HEALTH_CHECK_INTERVAL=30000    # Health check interval in ms
WORKER_TIMEOUT=300000                 # Worker timeout in ms (5 minutes)
MIN_WORKERS=2                         # Minimum number of workers
MAX_WORKERS=20                        # Maximum number of workers
AUTO_SCALING_ENABLED=true             # Enable auto-scaling

# Load Balancing Configuration
# Options: round_robin, least_busy, weighted
LOAD_BALANCE_STRATEGY=round_robin
QUEUE_HIGH_WATER_MARK=1000           # High water mark for queue scaling
QUEUE_LOW_WATER_MARK=100             # Low water mark for queue scaling

# Database Configuration
DATABASE_URL=postgresql://flow_user:flow_password@localhost:5433/flow_platform
DATABASE_POOL_SIZE=10

# Monitoring Configuration
METRICS_ENABLED=true
METRICS_PORT=9091
HEALTH_CHECK_PORT=8080
LOG_LEVEL=info                       # Options: error, warn, info, debug

# Orchestrator Specific Configuration
ORCHESTRATOR_ID=orchestrator-local   # Unique identifier for this orchestrator
TASK_PROCESSING_CONCURRENCY=100      # Max concurrent task processing
DLQ_RETRY_ATTEMPTS=3                 # Dead letter queue retry attempts
TASK_TIMEOUT_MS=300000               # Task timeout in ms (5 minutes)

# Optional Configuration
GRACEFUL_SHUTDOWN_TIMEOUT=30000      # Graceful shutdown timeout
WORKER_REGISTRATION_TIMEOUT=60000    # Worker registration timeout
METRICS_COLLECTION_INTERVAL=15000    # Metrics collection interval
